<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recommendation Quiz | SHOP SAVVY</title>
    <style>
        /* General Styles */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }

        header {
            background-color: #2c3e50;
            color: white;
            padding: 1rem 2rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .logo-container {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }

        .logo {
            width: 50px;
            height: 50px;
            margin-right: 15px;
        }

        h1 {
            font-size: 1.8rem;
            font-weight: 600;
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin-right: 20px;
        }

        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: 400;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        nav ul li a:hover {
            background-color: #34495e;
        }

        nav ul li a.active {
            background-color: #3498db;
            font-weight: 600;
        }

        main {
            max-width: 900px;
            margin: 2rem auto;
            padding: 0 20px;
        }

        /* Quiz Container Styles */
        .quiz-container {
            background-color: white;
            border-radius: 8px;
            padding: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .quiz-container h2 {
            color: #2c3e50;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .quiz-container p {
            margin-bottom: 1.5rem;
            color: #555;
        }

        /* Progress Bar Styles */
        .quiz-progress {
            margin-bottom: 2rem;
        }

        .progress-bar {
            height: 8px;
            background-color: #ecf0f1;
            border-radius: 4px;
            margin-bottom: 0.5rem;
            overflow: hidden;
        }

        .progress-bar div {
            height: 100%;
            background-color: #3498db;
            width: 0%;
            transition: width 0.3s ease;
        }

        #progress-text {
            font-size: 0.9rem;
            color: #7f8c8d;
        }

        /* Question Styles */
        .question h3 {
            margin-bottom: 1.5rem;
            color: #2c3e50;
            font-size: 1.2rem;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 0.8rem 1rem;
            background-color: #f9f9f9;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .option:hover {
            background-color: #ecf0f1;
        }

        .option input {
            margin-right: 10px;
            cursor: pointer;
        }

        .option label {
            cursor: pointer;
            width: 100%;
        }

        /* Navigation Buttons */
        .quiz-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }

        .quiz-navigation button {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        #prev-btn {
            background-color: #bdc3c7;
            color: #2c3e50;
        }

        #prev-btn:hover {
            background-color: #95a5a6;
        }

        #next-btn, #submit-btn {
            background-color: #3498db;
            color: white;
        }

        #next-btn:hover, #submit-btn:hover {
            background-color: #2980b9;
        }

        /* Results Section */
        .results {
            background-color: white;
            border-radius: 8px;
            padding: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: none;
        }

        .results h2 {
            color: #2c3e50;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .results p {
            margin-bottom: 1.5rem;
            color: #555;
        }

        /* Recommendation Cards */
        .recommendation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .recommendation-card {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .recommendation-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .recommendation-card h4 {
            color: #2c3e50;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .recommendation-card p {
            color: #7f8c8d;
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .download-btn {
            display: inline-block;
            padding: 0.6rem 1rem;
            background-color: #3498db;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            font-size: 0.9rem;
            transition: background-color 0.2s;
        }

        .download-btn:hover {
            background-color: #2980b9;
        }

        #retake-btn {
            padding: 0.8rem 1.5rem;
            background-color: #2ecc71;
            color: white;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        #retake-btn:hover {
            background-color: #27ae60;
        }

        footer {
            text-align: center;
            padding: 1.5rem;
            background-color: #2c3e50;
            color: white;
            margin-top: 2rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .recommendation-grid {
                grid-template-columns: 1fr;
            }

            nav ul {
                flex-direction: column;
                gap: 10px;
            }

            nav ul li {
                margin-right: 0;
            }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="logo-container">
            <img src="data:image/png;base64,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" alt="SHOP SAVVY Logo" class="logo">
            <h1>SHOP SAVVY</h1>
        </div>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="resources.html">Resources</a></li>
                <li><a href="quiz.html" class="active">Recommendation Quiz</a></li>
                <li><a href="fun.html">Entertainment</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="quiz-container">
            <h2>Book & Character Recommendation Quiz</h2>
            <p>Answer these 5 questions to get personalized book, storybook, character, and personality trait recommendations.</p>
            
            <div class="quiz-progress">
                <div class="progress-bar" id="progress-bar"></div>
                <span id="progress-text">Question 1 of 5</span>
            </div>
            
            <div class="quiz" id="quiz">
                <!-- Questions will be loaded here via JavaScript -->
            </div>
            
            <div class="quiz-navigation">
                <button id="prev-btn" disabled>Previous</button>
                <button id="next-btn">Next</button>
                <button id="submit-btn" style="display: none;">Submit</button>
            </div>
        </section>
        
        <section class="results" id="results" style="display: none;">
            <h2>Your Recommendations</h2>
            <p>Based on your answers, here are some recommendations we think you'll enjoy:</p>
            
            <div class="recommendations" id="recommendations">
                <!-- Recommendations will be loaded here -->
            </div>
            
            <button id="retake-btn">Retake Quiz</button>
        </section>
    </main>

    <footer>
        <p>&copy; 2023 SHOP SAVVY. All rights reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const quizContainer = document.getElementById('quiz');
            const resultsContainer = document.getElementById('results');
            const progressBar = document.getElementById('progress-bar');
            const progressText = document.getElementById('progress-text');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const submitBtn = document.getElementById('submit-btn');
            const retakeBtn = document.getElementById('retake-btn');
            const recommendationsContainer = document.getElementById('recommendations');
            
            let currentQuestion = 0;
            let answers = [];
            
            // Quiz questions
            const questions = [
                {
                    question: "What type of reading material do you prefer?",
                    options: [
                        "Fiction novels",
                        "Non-fiction books",
                        "Children's storybooks",
                        "Graphic novels/comics",
                        "Poetry collections",
                        "Biographies",
                        "Self-help books"
                    ],
                    type: "reading-preference"
                },
                {
                    question: "What genres interest you the most?",
                    options: [
                        "Fantasy",
                        "Science Fiction",
                        "Mystery/Thriller",
                        "Romance",
                        "Historical Fiction",
                        "Horror",
                        "Adventure"
                    ],
                    type: "genre"
                },
                {
                    question: "What kind of characters do you enjoy?",
                    options: [
                        "Strong heroes",
                        "Complex anti-heroes",
                        "Witty sidekicks",
                        "Mysterious villains",
                        "Relatable everyday people",
                        "Magical creatures",
                        "Historical figures"
                    ],
                    type: "character-type"
                },
                {
                    question: "What personality traits do you admire most?",
                    options: [
                        "Bravery",
                        "Intelligence",
                        "Kindness",
                        "Humor",
                        "Creativity",
                        "Perseverance",
                        "Leadership"
                    ],
                    type: "personality-traits"
                },
                {
                    question: "What is your primary goal for reading?",
                    options: [
                        "Entertainment",
                        "Learning new things",
                        "Personal growth",
                        "Escapism",
                        "Emotional connection",
                        "Cultural exploration",
                        "Professional development"
                    ],
                    type: "reading-goal"
                }
            ];
            
            // Resource recommendations based on answers
            const recommendations = {
                "Fiction novels": [
                    {name: "To Kill a Mockingbird by Harper Lee", type: "Classic Fiction", description: "A powerful story of racial injustice and moral growth in the American South."},
                    {name: "1984 by George Orwell", type: "Dystopian Fiction", description: "A chilling vision of a totalitarian future society."},
                    {name: "The Great Gatsby by F. Scott Fitzgerald", type: "Literary Fiction", description: "A portrait of the Jazz Age and the American Dream."}
                ],
                "Non-fiction books": [
                    {name: "Sapiens by Yuval Noah Harari", type: "History", description: "A brief history of humankind from evolution to modern society."},
                    {name: "The Power of Habit by Charles Duhigg", type: "Psychology", description: "Explores the science behind habit formation and change."},
                    {name: "Quiet by Susan Cain", type: "Psychology", description: "The power of introverts in a world that can't stop talking."}
                ],
                "Children's storybooks": [
                    {name: "Where the Wild Things Are by Maurice Sendak", type: "Picture Book", description: "A classic tale of imagination and adventure."},
                    {name: "Charlotte's Web by E.B. White", type: "Chapter Book", description: "A heartwarming story of friendship between a pig and a spider."},
                    {name: "The Gruffalo by Julia Donaldson", type: "Picture Book", description: "A clever mouse outwits predators in this rhyming tale."}
                ],
                "Graphic novels/comics": [
                    {name: "Maus by Art Spiegelman", type: "Graphic Novel", description: "A Holocaust survivor's story told with mice and cats."},
                    {name: "Persepolis by Marjane Satrapi", type: "Graphic Memoir", description: "Growing up during the Iranian Revolution."},
                    {name: "Watchmen by Alan Moore", type: "Comic Series", description: "A deconstruction of superhero tropes and morality."}
                ],
                "Fantasy": [
                    {name: "Harry Potter series by J.K. Rowling", type: "Fantasy", description: "A young wizard's journey through the magical world."},
                    {name: "The Lord of the Rings by J.R.R. Tolkien", type: "High Fantasy", description: "The epic quest to destroy the One Ring."},
                    {name: "A Song of Ice and Fire by George R.R. Martin", type: "Dark Fantasy", description: "Political intrigue in a medieval fantasy world."}
                ],
                "Science Fiction": [
                    {name: "Dune by Frank Herbert", type: "Sci-Fi", description: "A complex tale of politics, religion, and ecology on a desert planet."},
                    {name: "The Martian by Andy Weir", type: "Hard Sci-Fi", description: "An astronaut's struggle to survive alone on Mars."},
                    {name: "Neuromancer by William Gibson", type: "Cyberpunk", description: "The novel that defined the cyberpunk genre."}
                ],
                "Strong heroes": [
                    {name: "Atticus Finch (To Kill a Mockingbird)", type: "Character", description: "A moral hero who defends the innocent despite social pressure."},
                    {name: "Katniss Everdeen (The Hunger Games)", type: "Character", description: "A reluctant revolutionary who becomes a symbol of hope."},
                    {name: "Aragorn (Lord of the Rings)", type: "Character", description: "The rightful king who leads with wisdom and courage."}
                ],
                "Bravery": [
                    {name: "Courage", type: "Personality Trait", description: "The ability to face danger, difficulty, or pain without fear."},
                    {name: "Resilience", type: "Personality Trait", description: "The capacity to recover quickly from difficulties."},
                    {name: "Determination", type: "Personality Trait", description: "Firmness of purpose and resoluteness."}
                ],
                "Entertainment": [
                    {name: "The Hitchhiker's Guide to the Galaxy by Douglas Adams", type: "Comedic Sci-Fi", description: "A hilarious journey through space with an ordinary human."},
                    {name: "Good Omens by Terry Pratchett & Neil Gaiman", type: "Fantasy Comedy", description: "An angel and demon team up to prevent the apocalypse."},
                    {name: "Bridget Jones's Diary by Helen Fielding", type: "Romantic Comedy", description: "A humorous account of a single woman's life and loves."}
                ]
            };
            
            // Initialize the quiz
            function initQuiz() {
                showQuestion();
                updateProgress();
            }
            
            // Display the current question
            function showQuestion() {
                const question = questions[currentQuestion];
                
                let optionsHTML = '';
                question.options.forEach((option, index) => {
                    optionsHTML += `
                        <div class="option">
                            <input type="radio" name="answer" id="option${index}" value="${option}" 
                                   ${answers[currentQuestion] === option ? 'checked' : ''}>
                            <label for="option${index}">${option}</label>
                        </div>
                    `;
                });
                
                quizContainer.innerHTML = `
                    <div class="question">
                        <h3>${question.question}</h3>
                        <div class="options">${optionsHTML}</div>
                    </div>
                `;
                
                // Update button states
                prevBtn.disabled = currentQuestion === 0;
                nextBtn.style.display = currentQuestion < questions.length - 1 ? 'block' : 'none';
                submitBtn.style.display = currentQuestion === questions.length - 1 ? 'block' : 'none';
            }
            
            // Update progress bar and text
            function updateProgress() {
                const progress = ((currentQuestion + 1) / questions.length) * 100;
                progressBar.style.width = `${progress}%`;
                progressText.textContent = `Question ${currentQuestion + 1} of ${questions.length}`;
            }
            
            // Save the selected answer
            function saveAnswer() {
                const selectedOption = document.querySelector('input[name="answer"]:checked');
                if (selectedOption) {
                    answers[currentQuestion] = selectedOption.value;
                }
            }
            
            // Show quiz results
            function showResults() {
                quizContainer.style.display = 'none';
                resultsContainer.style.display = 'block';
                
                // Determine primary reading preference (from first question)
                const primaryPreference = answers[0];
                const genrePreference = answers[1];
                const characterPreference = answers[2];
                const traitPreference = answers[3];
                const goalPreference = answers[4];
                
                let recommendationsHTML = '<div class="recommendation-grid">';
                
                // Add recommendations based on reading preference
                const preferenceRecs = recommendations[primaryPreference] || [];
                if (preferenceRecs.length > 0) {
                    recommendationsHTML += `<h3 style="grid-column:1/-1">Based on your preference for ${primaryPreference}:</h3>`;
                    preferenceRecs.forEach(item => {
                        recommendationsHTML += `
                            <div class="recommendation-card">
                                <h4>${item.name}</h4>
                                <p><strong>Type:</strong> ${item.type}</p>
                                <p>${item.description}</p>
                            </div>
                        `;
                    });
                }
                
                // Add recommendations based on genre
                const genreRecs = recommendations[genrePreference] || [];
                if (genreRecs.length > 0) {
                    recommendationsHTML += `<h3 style="grid-column:1/-1">Based on your interest in ${genrePreference}:</h3>`;
                    genreRecs.forEach(item => {
                        recommendationsHTML += `
                            <div class="recommendation-card">
                                <h4>${item.name}</h4>
                                <p><strong>Type:</strong> ${item.type}</p>
                                <p>${item.description}</p>
                            </div>
                        `;
                    });
                }
                
                // Add recommendations based on character type
                const characterRecs = recommendations[characterPreference] || [];
                if (characterRecs.length > 0) {
                    recommendationsHTML += `<h3 style="grid-column:1/-1">Based on your favorite character type (${characterPreference}):</h3>`;
                    characterRecs.forEach(item => {
                        recommendationsHTML += `
                            <div class="recommendation-card">
                                <h4>${item.name}</h4>
                                <p><strong>Type:</strong> ${item.type}</p>
                                <p>${item.description}</p>
                            </div>
                        `;
                    });
                }
                
                // Add recommendations based on personality traits
                const traitRecs = recommendations[traitPreference] || [];
                if (traitRecs.length > 0) {
                    recommendationsHTML += `<h3 style="grid-column:1/-1">Based on your admired trait (${traitPreference}):</h3>`;
                    traitRecs.forEach(item => {
                        recommendationsHTML += `
                            <div class="recommendation-card">
                                <h4>${item.name}</h4>
                                <p><strong>Type:</strong> ${item.type}</p>
                                <p>${item.description}</p>
                            </div>
                        `;
                    });
                }
                
                // Add general recommendations
                recommendationsHTML += `
                    <h3 style="grid-column:1/-1">General Recommendations:</h3>
                    <div class="recommendation-card">
                        <h4>The Book Thief by Markus Zusak</h4>
                        <p><strong>Type:</strong> Historical Fiction</p>
                        <p>A story about the power of words set in Nazi Germany, narrated by Death.</p>
                    </div>
                    <div class="recommendation-card">
                        <h4>Sherlock Holmes (character)</h4>
                        <p><strong>Type:</strong> Fictional Detective</p>
                        <p>The brilliant, eccentric detective with exceptional observation and deduction skills.</p>
                    </div>
                    <div class="recommendation-card">
                        <h4>Curiosity</h4>
                        <p><strong>Type:</strong> Personality Trait</p>
                        <p>A strong desire to know or learn something, often leading to discovery and innovation.</p>
                    </div>
                `;
                
                recommendationsHTML += '</div>';
                recommendationsContainer.innerHTML = recommendationsHTML;
            }
            
            // Event listeners
            nextBtn.addEventListener('click', function() {
                saveAnswer();
                if (currentQuestion < questions.length - 1) {
                    currentQuestion++;
                    showQuestion();
                    updateProgress();
                }
            });
            
            prevBtn.addEventListener('click', function() {
                if (currentQuestion > 0) {
                    currentQuestion--;
                    showQuestion();
                    updateProgress();
                }
            });
            
            submitBtn.addEventListener('click', function() {
                saveAnswer();
                showResults();
            });
            
            retakeBtn.addEventListener('click', function() {
                currentQuestion = 0;
                answers = [];
                quizContainer.style.display = 'block';
                resultsContainer.style.display = 'none';
                showQuestion();
                updateProgress();
            });
            
            // Start the quiz
            initQuiz();
        });
    </script>
</body>
</html>